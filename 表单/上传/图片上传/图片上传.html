<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>图片上传</title>
<style>
	#pic,#pic1{
		width:100px;
		height:100px;
		border-radius:50% ;
		
		cursor: pointer;
	}
</style>
</head>

<body>
<form>
	<img id="pic" src="">
	<input id="upload" name="file" accept="image/*" type="file" style="display: none"/>
	<img id="pic1" src="">
	<input id="upload1" name="file1" accept="image/*" type="file" style="display: none"/>
	<input type="submit">
</form>


<script src="jquery-1.11.1.min.js"></script>
<script>
$(function() {
		$("#pic").click(function () {
			$("#upload").click(); //隐藏了input:file样式后，点击头像就可以本地上传
			$("#upload").on("change",function(){
				var objUrl = getObjectURL(this.files[0]) ; //获取图片的路径，该路径不是图片在本地的路径
				if (objUrl) {
				$("#pic").attr("src", objUrl) ; //将图片路径存入src中，显示出图片
				}
			});
		});
		$("#pic1").click(function () {
				$("#upload1").click(); //隐藏了input:file样式后，点击头像就可以本地上传
				$("#upload1").on("change",function(){
					var objUrl = getObjectURL(this.files[0]) ; //获取图片的路径，该路径不是图片在本地的路径
					if (objUrl) {
					$("#pic1").attr("src", objUrl) ; //将图片路径存入src中，显示出图片
					}
				});
			});
	
	});

	//建立一個可存取到該file的url
	function getObjectURL(file) {
		var url = null ;
		if (window.createObjectURL!=undefined) { // basic
		url = window.createObjectURL(file) ;
		} else if (window.URL!=undefined) { // mozilla(firefox)
		url = window.URL.createObjectURL(file) ;
		} else if (window.webkitURL!=undefined) { // webkit or chrome
		url = window.webkitURL.createObjectURL(file) ;
		}
		return url ;
	}
</script>
</body>
</html>
